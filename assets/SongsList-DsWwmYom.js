import{E as e,F as t,H as n,M as r,P as i,U as a,W as o,o as s,s as c,u as l,x as u,z as d}from"./index-DEChrNgY.js";var f=d(`arrow-up-down`,[[`path`,{d:`m21 16-4 4-4-4`,key:`f6ql7i`}],[`path`,{d:`M17 20V4`,key:`1ejh1v`}],[`path`,{d:`m3 8 4-4 4 4`,key:`11wl7u`}],[`path`,{d:`M7 4v16`,key:`1glfcx`}]]),p=d(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),m=a(),h=n();function g(e){let n=(0,m.c)(46),{song:a,queue:o,index:u,playListId:d}=e,{currentSong:f,isPlaying:p,playSong:g,togglePlay:_}=l(),v=f?.id===a.id,y;n[0]!==u||n[1]!==v||n[2]!==d||n[3]!==g||n[4]!==o||n[5]!==_?(y=()=>{v?_():g(o,u,d)},n[0]=u,n[1]=v,n[2]=d,n[3]=g,n[4]=o,n[5]=_,n[6]=y):y=n[6];let b=y,x=u===void 0?``:u+1,S;n[7]===x?S=n[8]:(S=(0,h.jsx)(`span`,{className:`w-6 text-center text-sm text-muted-foreground`,children:x}),n[7]=x,n[8]=S);let C;n[9]!==a.coverUrl||n[10]!==a.title?(C=(0,h.jsx)(`img`,{src:a.coverUrl,alt:a.title,className:`w-full h-full rounded-lg object-cover`}),n[9]=a.coverUrl,n[10]=a.title,n[11]=C):C=n[11];let w;n[12]!==v||n[13]!==p?(w=v&&(0,h.jsx)(s,{start:p}),n[12]=v,n[13]=p,n[14]=w):w=n[14];let T;n[15]===w?T=n[16]:(T=(0,h.jsx)(`div`,{className:`absolute border p-2 rounded-lg inset-0 flex justify-center items-center group-hover:hidden`,children:w}),n[15]=w,n[16]=T);let E;n[17]!==v||n[18]!==p?(E=(0,h.jsx)(`div`,{className:`absolute border p-2 rounded-lg inset-0 justify-center items-center hidden group-hover:flex`,children:v&&p?(0,h.jsx)(t,{}):(0,h.jsx)(i,{})}),n[17]=v,n[18]=p,n[19]=E):E=n[19];let D;n[20]!==C||n[21]!==T||n[22]!==E?(D=(0,h.jsxs)(`div`,{className:`w-12 h-12 relative`,children:[C,T,E]}),n[20]=C,n[21]=T,n[22]=E,n[23]=D):D=n[23];let O=`font-medium line-clamp-1 ${v?`text-emerald-300`:`text-foreground`}`,k;n[24]!==a.title||n[25]!==O?(k=(0,h.jsx)(`p`,{className:O,children:a.title}),n[24]=a.title,n[25]=O,n[26]=k):k=n[26];let A;n[27]===a.artist?A=n[28]:(A=(0,h.jsx)(`p`,{className:`text-sm text-muted-foreground line-clamp-1`,children:a.artist}),n[27]=a.artist,n[28]=A);let j;n[29]!==k||n[30]!==A?(j=(0,h.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[k,A]}),n[29]=k,n[30]=A,n[31]=j):j=n[31];let M;n[32]===a.album?M=n[33]:(M=(0,h.jsx)(`span`,{className:`text-sm text-muted-foreground hidden sm:block`,children:a.album}),n[32]=a.album,n[33]=M);let N;n[34]===a.duration?N=n[35]:(N=c(a.duration),n[34]=a.duration,n[35]=N);let P;n[36]===N?P=n[37]:(P=(0,h.jsx)(`span`,{className:`text-sm text-muted-foreground w-12 text-right`,children:N}),n[36]=N,n[37]=P);let F;return n[38]!==b||n[39]!==v||n[40]!==j||n[41]!==M||n[42]!==P||n[43]!==S||n[44]!==D?(F=(0,h.jsxs)(r,{onClick:b,$active:v,children:[S,D,j,M,P]}),n[38]=b,n[39]=v,n[40]=j,n[41]=M,n[42]=P,n[43]=S,n[44]=D,n[45]=F):F=n[45],F}var _=a(),v=o();function y(t){let n=(0,_.c)(19),{songs:r,showSearchBar:i,playListId:a}=t,o=i===void 0?!0:i,[s,c]=(0,v.useState)(``),[l,d]=(0,v.useState)(`date-desc`),[m,y]=(0,v.useState)(!1),b,x;if(n[0]!==s||n[1]!==r||n[2]!==l){if(b=r,s){let e=s.toLowerCase();b=b.filter(t=>t.title.toLowerCase().includes(e)||t.artist.toLowerCase().includes(e)||t.album.toLowerCase().includes(e))}let e;n[5]===l?e=n[6]:(e=(e,t)=>{switch(l){case`name-asc`:return e.title.localeCompare(t.title);case`name-desc`:return t.title.localeCompare(e.title);case`date-asc`:return new Date(e.addedAt).getTime()-new Date(t.addedAt).getTime();case`date-desc`:default:return new Date(t.addedAt).getTime()-new Date(e.addedAt).getTime()}},n[5]=l,n[6]=e),x=[...b].sort(e),n[0]=s,n[1]=r,n[2]=l,n[3]=b,n[4]=x}else b=n[3],x=n[4];b=x;let S=b,C;n[7]===Symbol.for(`react.memo_cache_sentinel`)?(C=[{value:`name-asc`,label:`Name (A-Z)`},{value:`name-desc`,label:`Name (Z-A)`},{value:`date-desc`,label:`Recently Added`},{value:`date-asc`,label:`Oldest First`}],n[7]=C):C=n[7];let w=C,T;n[8]!==s||n[9]!==o||n[10]!==m||n[11]!==l?(T=o&&(0,h.jsxs)(`div`,{className:`flex flex-row p-3 rounded-xl items-center gap-3`,children:[(0,h.jsxs)(`div`,{className:`relative flex-1 sm:w-64`,children:[(0,h.jsx)(p,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground`,size:18}),(0,h.jsx)(e,{type:`text`,placeholder:`Search songs...`,value:s,onChange:e=>c(e.target.value),className:` pl-10 py-2 sm:py-3 `})]}),(0,h.jsxs)(`div`,{className:`relative`,children:[(0,h.jsxs)(u.Secondary,{className:`rounded-xl p-3`,onClick:()=>y(!m),children:[(0,h.jsx)(f,{size:16}),(0,h.jsx)(`span`,{className:`hidden sm:inline`,children:`Sort`})]}),m&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(`div`,{className:`fixed inset-0 z-10`,onClick:()=>y(!1)}),(0,h.jsx)(`div`,{className:`absolute right-0 top-full mt-2 bg-card border border-border rounded-xl shadow-lg z-20 py-2 min-w-40 p-2`,children:w.map(e=>(0,h.jsx)(`button`,{onClick:()=>{d(e.value),y(!1)},className:`cursor-pointer w-full text-left px-4 py-2 rounded-lg text-sm hover:bg-secondary/50 transition-colors ${l===e.value?`text-primary`:``}`,children:e.label},e.value))})]})]})]}),n[8]=s,n[9]=o,n[10]=m,n[11]=l,n[12]=T):T=n[12];let E;n[13]!==S||n[14]!==a?(E=S.map((e,t)=>(0,h.jsx)(g,{song:e,queue:S,index:t,playListId:a},e.id)),n[13]=S,n[14]=a,n[15]=E):E=n[15];let D;return n[16]!==T||n[17]!==E?(D=(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(`div`,{className:`grow flex flex-col gap-2`,children:[T,E]})}),n[16]=T,n[17]=E,n[18]=D):D=n[18],D}export{y as t};